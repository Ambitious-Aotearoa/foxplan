{% extends "_boilerplate/_layouts/layout-base.twig" %}

{% set navigationTheme = {
    backgroundColor: 'bg-foxplan-neutral-beige',
    textColor: 'text-foxplan-charcoal-brown',
    actionBgColor: 'bg-foxplan-charcoal-brown'
} %}

{% block blockAppBody %}
    {# 1. Initialize shared state for the booking overlay #}
    <div x-data="{ showBookCallOverlay: false }" class="relative">

        {# 2. Hero Section #}
        {{ include('_sections/hero-sections/hero-arrow.twig', {
            props: {
                buttonUrl: '#',
                backgroundColor: 'bg-foxplan-neutral-beige',
                buttonBgColor: 'bg-foxplan-charcoal-brown',
                buttonTextColor: 'text-foxplan-neutral-beige'
            }
        }) }}

        {# 3. Content Sections #}
        {% include "_sections/content-sections/accounting-scrollable.twig" with { block: entry } %}
        {% include "_sections/content-sections/accounting-pathways.twig" with { block: entry } %}
        {% include "_sections/content-sections/accounting-pricing.twig" with { block: entry } %}

        {# 4. Benefits/Accordion #}
        {% set benefitsHeading = entry.paragraphHeading4 ?? 'How we work' %}
        {% set accordionItems = [] %}
        {% if entry.accordion is defined %}
            {% for block in entry.accordion.all() %}
                {% set accordionItems = accordionItems | merge([{
                    'title': block.accordionHeading,
                    'text': block.accordionBodyText
                }]) %}
            {% endfor %}
        {% endif %}

        {{ include('_sections/content-sections/benefits.twig', {
            props: {
                paragraphHeading: benefitsHeading,
                items: accordionItems,
                backgroundColor: 'bg-foxplan-yellow',
                textColor: 'text-foxplan-charcoal-brown'
            }
        }) }}

        {# 5. Footer #}
        {{ include('_components/footer/footer-High-fidelity.twig', {
            props: {
                backgroundColor: 'bg-foxplan-charcoal-brown',
                textColor: 'text-foxplan-yellow',
                logoColor: 'text-foxplan-yellow',
                buttonColor: 'bg-foxplan-yellow',
                buttonTextColor: 'text-foxplan-charcoal-brown',
                separatorColor: 'text-foxplan-yellow'
            }
        }) }}

        {# 6. THE BOOKING OVERLAY #}
        {{ include('_sections/overlays/book-a-call.twig') }}

    </div>


{% endblock %}