{% extends "_boilerplate/_layouts/layout-base.twig" %}

{% set navigationTheme = {
    backgroundColor: 'bg-foxplan-neutral-beige',
    textColor: 'text-foxplan-charcoal-brown',
    actionBgColor: 'bg-foxplan-charcoal-brown'
} %}

{% block blockAppBody %}
    {# 1. Initialize shared state for the booking overlay #}
    <div x-data="{ showBookCallOverlay: false }" class="relative">

        {# 2. Hero Section #}
        {{ include('_sections/hero-sections/hero-arrow.twig', {
            props: {
                buttonUrl: '#',
                backgroundColor: 'bg-foxplan-neutral-beige',
                buttonBgColor: 'bg-foxplan-charcoal-brown',
                buttonTextColor: 'text-foxplan-neutral-beige'
            }
        }) }}

        {# 3. Benefits #}
        {% include "_sections/content-sections/how-we-work.twig" with {
            entry: entry,
            props: {
                backgroundColor: 'bg-foxplan-yellow',
                textColor: 'text-foxplan-charcoal-brown',
                mainHeading: entry.paragraphHeading ?? 'How we work with you',
                mainBody: entry.bodyText ?? '',
            }
        } %}

        {# 4. Services Grid #}
        {% set serviceItems = [] %}

        {% if entry.infoBlock is defined %}
            {% for block in entry.infoBlock.all() %}
                {% set serviceItems = serviceItems | merge([{
                    'title': block.blockHeading ?? 'Service Title',
                    'text': block.blockBodyText ?? '',
                    'link': block.blockLinkUrl ?? '#'
                }]) %}
            {% endfor %}
        {% endif %}

        {{ include('_sections/services/our-services-1.twig', {
            props: {
                title: entry.paragraphHeading2 ?? 'Our Services',
                backgroundColor: 'bg-foxplan-yellow',
                buttonBgColor: 'bg-foxplan-charcoal-brown',
                buttonTextColor: 'text-white',
                items: serviceItems
            }
        }) }}

        {# 5. Partner Section #}
        {{ include('_sections/content-sections/who-we-work-with.twig', {
            props: {
                title: 'WHO WE WORK WITH',
                backgroundColor: 'bg-foxplan-neutral-beige',
                textColor: 'text-foxplan-charcoal-brown',
                borderColor: 'border-foxplan-charcoal-brown/20',
                logos: [
                    { src: 'images/logo/AIA_Logo.svg', alt: 'AIA' },
                    { src: 'images/logo/ANZ_Logo.svg', alt: 'ANZ' }
                ]
            }
        }) }}

        {# 6. Footer #}

        {{ include('_components/footer/footer-High-fidelity.twig', {
            props: {
                backgroundColor: 'bg-foxplan-charcoal-brown',
                textColor: 'text-foxplan-yellow',
                logoColor: 'text-foxplan-yellow',
                buttonColor: 'bg-foxplan-yellow',
                buttonTextColor: 'text-foxplan-charcoal-brown',
                separatorColor: 'text-foxplan-yellow'
            }
        }) }}

        {# 7. THE BOOKING OVERLAY #}
        {{ include('_sections/overlays/book-a-call.twig') }}

    </div>


{% endblock %}