{% extends "_boilerplate/_layouts/layout-base.twig" %}

{# 1. Navigation Theme Setup #}
{% set navigationTheme = {
    backgroundColor: 'bg-foxplan-charcoal-brown',
    textColor: 'text-foxplan-yellow',
    searchBgColor: 'bg-foxplan-charcoal-brown',
    ctaBgColor: 'bg-foxplan-yellow',
    iconColor: 'text-foxplan-yellow',
} %}

{% block blockAppBody %}

    {# Hero Section #}
    <section class="w-full bg-foxplan-charcoal-brown text-foxplan-yellow pt-24 pb-24">
        <div class="w-full px-8 md:px-12 lg:px-16">
            <div class="max-w-7xl">
                <h1 class="font-serif text-7xl md:text-8xl lg:text-9xl mb-8 tracking-tight leading-none text-left">
                    Our suppliers
                </h1>
                <p class="font-aktiv-grotesk text-xl md:text-2xl max-w-2xl leading-relaxed opacity-90 text-left">
                    We partner with leading financial institutions to ensure you get the best possible outcomes for your investments, insurance, and lending needs.
                </p>
            </div>
        </div>
    </section>

    {# --- DATA DEFINITION (CRITICAL: This must be here to fix the error) --- #}
    {% set supplierData = {
        tabs: [
            {
                id: 'investments',
                label: 'Investments & Kiwisaver',
                title: 'Investments & Kiwisaver',
                suppliers: [
                { name: 'Consilium/Synergy', contact: '0800 222 876' },
                { name: 'Select Wealth', contact: '0800 736 034', general: '0800 269 296' },
                { name: 'Booster', contact: '0800 737 101 â€¢ +64 4 495 8700' },
                { name: 'ANZ Investments/ One Answer', contact: '0800 336 338' },
                { name: 'Fisher Funds', contact: '0508 464 999' }
            ]
            },
            {
                id: 'insurance',
                label: 'Insurance',
                title: 'Insurance Providers',
                suppliers: [
                { name: 'AIA', contact: '0800 500 108' },
                { name: 'Chubb Life', contact: '0800 270 714' }
            ]
            },
            {
                id: 'mortgages',
                label: 'Mortgages',
                title: 'Mortgage Advice',
                suppliers: [
                { name: 'ANZ', contact: '0800 269 296' },
                { name: 'ASB', contact: '0800 803 804' }
            ]
            },
            {
                id: 'non-bank-lenders',
                label: 'Non bank lenders',
                title: 'Non bank lenders',
                suppliers: [
                { name: 'Resimac', contact: '0800 737 462' },
                { name: 'Avanti Finance', contact: '0800 808 003' }
            ]
            }
        ]
    } %}

    {# 2. Interactive Section Wrapper #}
    <div x-data="{ activeTab: 'investments' }" class="bg-foxplan-yellow">

        {# Call the Tabs Component #}
        {% include '_components/ui/tabs/tabs-services.twig' with {
            props: {
                tabs: supplierData.tabs,
                navBg: 'bg-foxplan-charcoal-brown',
                activeBg: 'bg-foxplan-neutral-beige',
                activeText: 'text-foxplan-charcoal-brown',
                inactiveText: 'text-foxplan-yellow/60',
                hoverText: 'hover:text-foxplan-yellow',
            }
        } only %}

        {# Call the Suppliers Section #}
        {% include '_sections/content-sections/suppliers.twig' with {
            data: supplierData
        } only %}

    </div>

    {# 3. Footer #}
    {{ include('_components/footer/footer-High-fidelity.twig', {
        props: {
            backgroundColor: 'bg-foxplan-yellow',
            textColor: 'text-foxplan-charcoal-brown',
            logoColor: 'text-foxplan-charcoal-brown',
            buttonColor: 'bg-foxplan-charcoal-brown',
            buttonTextColor: 'text-foxplan-yellow',
            foxplanText: 'foxplan',
            borderTopColor: 'border-foxplan-charcoal-brown/20',
            borderTopWidth: 'border-t-2'
        }
    }) }}

{% endblock %}