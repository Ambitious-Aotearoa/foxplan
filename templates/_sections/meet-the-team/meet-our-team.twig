{# templates/_sections/content-sections/meet-our-team.twig #}

{% set defaults = {
    sectionTitle: 'Meet our mortgage advisers',
    backgroundColor: 'bg-white',
    textColor: 'text-black',
    advisers: []
} %}

{% set data = defaults | merge(props | default({})) %}

{% set sectionTitleClasses = 'font-serif text-6xl md:text-7xl font-normal leading-none ' ~ data.textColor %}
{% set adviserNameClasses = 'font-serif text-3xl font-normal mb-1 ' ~ data.textColor %}
{% set adviserRoleClasses = 'font-aktiv text-sm font-light tracking-widest uppercase mb-4 ' ~ data.textColor %}
{% set adviserBioClasses = 'font-aktiv text-base max-w-full ' ~ data.textColor %}

<div class="w-full {{ data.backgroundColor }}">
    <div class="max-w-full mx-auto py-20 pr-5">

        <div class="flex flex-wrap md:flex-nowrap">

            {# Left Column: Section Title (30% Width) #}
            <div class="w-full md:w-[30%] mb-10 md:mb-0 pl-5">
                <h2 class="{{ sectionTitleClasses }}">
                    {{ data.sectionTitle | raw }}
                </h2>
            </div>

            {# Right Column: Adviser Profiles (70% Width) #}
            <div class="w-full md:w-[70%]">

                {% for adviser in data.advisers %}
                    <div class="flex mb-16 last:mb-0 w-full">

                        {# IMAGE PLACEHOLDER: This box stays visible regardless of choice #}
                        <div class="w-1/3 max-w-[170px] h-[170px] 10 border border-current/10 flex-shrink-0 mr-10 overflow-hidden">
                            {% if adviser.image is defined and adviser.image is not empty %}
                                <img src="{{ alias('@web') }}/images/team/{{ adviser.image }}"
                                     class="w-full h-full object-cover"
                                     alt="{{ adviser.name ?? 'Adviser' }}">
                            {% endif %}
                        </div>

                        {# Text Content #}
                        <div class="flex-grow">
                            {# Choice: Name #}
                            {% if adviser.name is defined and adviser.name is not empty %}
                                <h3 class="{{ adviserNameClasses }}">
                                    {{ adviser.name }}
                                </h3>
                            {% endif %}

                            {# Choice: Role #}
                            {% if adviser.role is defined and adviser.role is not empty %}
                                <p class="{{ adviserRoleClasses }}">
                                    {{ adviser.role }}
                                </p>
                            {% endif %}

                            {# Choice: Bio #}
                            {% if adviser.bio is defined and adviser.bio is not empty %}
                                <p class="{{ adviserBioClasses }}">
                                    {{ adviser.bio }}
                                </p>
                            {% endif %}
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>