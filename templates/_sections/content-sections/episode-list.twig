{# templates/_sections/content-sections/episode-list.twig #}

{% set defaults = {
    sectionTitle: 'All episodes',
    seeAllUrl: '#',
    backgroundColor: 'bg-white',
    textColor: 'text-black',
    episodes: []
} %}

{% set sectionData = defaults | merge(data ?? {}) %}

{# OUTER WRAPPER: This creates the 20px beige border #}
<div class="w-full bg-foxplan-neutral-beige p-[20px]">

    {# INNER SECTION: Your actual content area #}
    <section class="w-full {{ sectionData.backgroundColor }} overflow-hidden">
        <div class="px-8 md:px-12 w-full pt-16 pb-16 md:pt-24 md:pb-24">

            {# Header Row #}
            <div class="flex justify-between items-center mb-12 border-b border-foxplan-yellow pb-8">
                <h2 class="font-serif text-4xl md:text-5xl font-normal {{ sectionData.textColor }}">
                    {{ sectionData.sectionTitle }}
                </h2>

                {% if sectionData.seeAllUrl %}
                    {% include '_components/ui/button/button.twig' with {
                        props: {
                            text: 'See all',
                            style: 'primary',
                            url: sectionData.seeAllUrl,
                            backgroundColor: 'bg-foxplan-yellow',
                            textColor: 'text-foxplan-charcoal-brown',
                        }
                    } only %}
                {% endif %}
            </div>

            {# Episode List #}
            <div class="divide-y divide-foxplan-yellow">
                {% for episode in sectionData.episodes %}
                    <div class="flex flex-col md:flex-row md:items-center justify-between py-8 px-4 -mx-4 group transition-all duration-300 hover:bg-foxplan-charcoal-brown">

                        {# Left Content #}
                        <div class="flex items-start md:items-center pr-8 mb-6 md:mb-0">
                            <div class="w-40 h-24 mr-8 flex-shrink-0 overflow-hidden bg-gray-100">
                                {% if episode.imageSrc is defined and episode.imageSrc is not empty %}
                                    <img src="{{ craft.vite.asset(episode.imageSrc) }}"
                                         alt="{{ episode.title }}"
                                         class="w-full h-full object-cover block">
                                {% endif %}
                            </div>

                            <div>
                                <h3 class="font-serif text-2xl md:text-[32px] leading-tight {{ sectionData.textColor }} mb-2 group-hover:text-white transition-colors duration-300">
                                    {{ episode.title }}
                                </h3>
                                <p class="text-sm text-gray-500 font-aktiv-grotesk uppercase tracking-wider group-hover:text-white/60 transition-colors">
                                    {{ episode.date }} &bull; {{ episode.length }}
                                </p>
                            </div>
                        </div>

                        {# Right Content #}
                        <div class="flex-shrink-0">
                            {% include '_components/ui/button/button.twig' with {
                                props: {
                                    text: 'Listen',
                                    style: 'primary',
                                    url: episode.linkUrl ?? '#',
                                    backgroundColor: 'bg-foxplan-yellow',
                                    textColor: 'text-foxplan-charcoal-brown',
                                    classes: 'px-8 py-3 group-hover:bg-white group-hover:text-foxplan-charcoal-brown transition-all duration-300'
                                }
                            } only %}
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>
</div>