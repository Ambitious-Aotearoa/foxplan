{# templates/_sections/content-sections/about-podcast.twig #}

{% set defaults = {
    backgroundColor: 'bg-foxplan-charcoal-brown',
    borderColor: 'border-foxplan-yellow',
    textColor: 'text-foxplan-yellow',
    topLabel: block.mainTitle ?? 'ABOUT THE POD',
    bodyText: block.largeParagraph ?? '',
    showLogo: true
} %}

{# Define static logo path using @webroot for reliability #}
{% set logoPath = '@webroot/dist/images/FoxPlan_Logo.svg' %}

{% set sectionData = defaults | merge(data ?? {}) %}

<section class="w-full border-[20px] {{ sectionData.borderColor }} {{ sectionData.backgroundColor }} py-16 md:py-24">
    <div class="px-8 md:px-12 w-full">

        <div class="grid grid-cols-1 md:grid-cols-10 items-start">

            {# LEFT: Label (30%) #}
            <div class="md:col-span-3">
                <span class="text-sm font-medium uppercase tracking-wider {{ sectionData.textColor }} leading-none">
                    {{ sectionData.topLabel }}
                </span>
            </div>

            {# RIGHT: Content (70%) #}
            <div class="md:col-span-7">
                <div class="flex flex-col md:flex-row justify-between gap-12">

                    <div class="flex-1">
                        {% if sectionData.bodyText is not empty %}
                            <div class="text-3xl leading-relaxed {{ sectionData.textColor }} leading-none">
                                {{ sectionData.bodyText | raw }}
                            </div>
                        {% endif %}
                    </div>

                    {% if sectionData.showLogo %}
                        <div class="flex-shrink-0 self-end">
                            {# Updated to use svg() and @webroot to bypass Vite #}
                            <div class="w-32 h-auto fill-current {{ sectionData.textColor }}">
                                {{ svg(alias(logoPath))|attr({
                                    class: 'w-full h-auto',
                                    alt: 'FoxPlan Logo'
                                }) }}
                            </div>
                        </div>
                    {% endif %}
                </div>
            </div>

        </div>
    </div>
</section>