{# templates/_sections/info-block.twig #}

{# 1. Define Defaults #}
{% set defaults = {
    paragraphHeading: null,
    infoBlock: [],
    backgroundColor: 'bg-foxplan-neutral-beige',
    textColor: 'text-foxplan-charcoal-brown',
    borderColor: 'border-[#270E15]'
} %}

{# 2. Merge defaults with props passed from the include #}
{% set data = defaults | merge(props ?? {}) %}

<section class="w-full relative z-20 {{ data.backgroundColor }} pt-16 md:pt-24 pb-16 md:pb-24 overflow-hidden border-b {{ data.borderColor }}">
    <div class="w-full">
        <div class="grid grid-cols-1 lg:grid-cols-10 w-full items-start">

            {# Left Side: Heading #}
            <div class="lg:col-span-3 px-4 md:px-4 lg:px-6 lg:pr-12 mb-12 lg:mb-0">
                <div class="max-w-md">
                    {% if data.paragraphHeading %}
                        <h2 class="font-serif tracking-tight {{ data.textColor }} break-normal"
                            style="font-size: clamp(2.5rem, 5vw + 1rem, 5.5rem); line-height: 0.85; word-break: keep-all;">
                            {{ data.paragraphHeading | raw }}
                        </h2>
                    {% endif %}
                </div>
            </div>

            {# Right Side: Info Content #}
            <div class="lg:col-span-7">
                <div class="w-full px-4 md:px-4 lg:px-0 lg:pr-20">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-16 gap-y-12 md:gap-y-16">

                        {% for block in data.infoBlock %}
                            <div class="flex flex-col">
                                {% if block.blockHeading %}
                                    <h3 class="font-serif leading-tight mb-2 lg:mb-4 {{ data.textColor }} break-normal"
                                        style="font-size: clamp(1.75rem, 2vw + 1rem, 2.25rem); word-break: keep-all;">
                                        {{ block.blockHeading }}
                                    </h3>
                                {% endif %}

                                {% if block.blockBodyText %}
                                    <div class="font-aktiv leading-relaxed font-medium opacity-90 {{ data.textColor }}"
                                         style="font-size: clamp(1rem, 0.5vw + 0.8rem, 1.15rem);">
                                        {{ block.blockBodyText }}
                                    </div>
                                {% endif %}

                                {% if block.blockLinkUrl %}
                                    <a href="{{ block.blockLinkUrl }}" class="mt-4 text-xs font-bold tracking-widest uppercase underline {{ data.textColor }} hover:opacity-70 transition-opacity">
                                        Learn More
                                    </a>
                                {% endif %}
                            </div>
                        {% endfor %}

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>