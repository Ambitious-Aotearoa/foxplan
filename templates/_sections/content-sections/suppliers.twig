{# templates/_sections/content-sections/suppliers.twig #}

<section class="w-full bg-[#F9EFD8]"
         x-data="{ activeTab: '{{ data.tabs[0].id }}' }">

    {# 1. Toggle Navigation Bar #}
    <div class="w-full bg-foxplan-charcoal-brown">
        <div class="grid grid-cols-2 md:grid-cols-4 w-full">
            {% for tab in data.tabs %}
                <button
                        @click="activeTab = '{{ tab.id }}'"
                        :class="activeTab === '{{ tab.id }}' ? 'bg-[#F9EFD8] text-foxplan-charcoal-brown' : 'text-white/60 hover:text-white'"
                        class="py-5 px-2 text-center text-xs font-medium uppercase tracking-wider font-aktiv-grotesk transition-colors duration-200"
                >
                    {{ tab.label }}
                </button>
            {% endfor %}
        </div>
    </div>

    {# 2. Content Area #}
    <div class="px-6 md:px-12 pt-12 pb-16">
        {% for tab in data.tabs %}
            <div
                    x-show="activeTab === '{{ tab.id }}'"
                    x-transition:enter="transition ease-out duration-300"
                    x-transition:enter-start="opacity-0 translate-y-2"
                    x-transition:enter-end="opacity-100 translate-y-0"
                    style="display: none;" {# Prevents flash before Alpine loads #}
            >
                {# Heading #}
                <h2 class="font-serif text-4xl md:text-5xl text-foxplan-charcoal-brown mb-10 leading-tight">
                    {{ tab.title }}
                </h2>

                {# Supplier Grid #}
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    {% for supplier in tab.suppliers %}
                        <div class="supplier-card flex flex-col  p-5 ">

                            {# Logo Placeholder #}
                            <div class="w-full h-36 bg-[#EBE0C8] mb-5 flex items-center justify-center">
                                {# Logo would go here #}
                            </div>

                            {# Supplier Name #}
                            <h3 class="text-xl font-serif text-foxplan-charcoal-brown mb-2">
                                {{ supplier.name }}
                            </h3>

                            {# Contact Details #}
                            <div class="text-foxplan-charcoal-brown font-aktiv-grotesk text-sm space-y-1 mb-8">
                                {% if supplier.general is defined and supplier.general is not empty %}
                                    <span class="block">Investments: {{ supplier.contact }}</span>
                                    <span class="block">General: {{ supplier.general }}</span>
                                {% else %}
                                    <span class="block">Contact: {{ supplier.contact }}</span>
                                {% endif %}
                            </div>

                            {# Visit Site Button #}
                            <div class="mt-auto">
                                <a href="{{ supplier.url ?? '#' }}"
                                   class="bg-foxplan-charcoal-brown text-white inline-flex items-center px-5 py-3 text-xs font-medium transition-all hover:brightness-125 font-aktiv group">
                                    <span class="mr-2">Visit site</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transition-transform group-hover:translate-x-1">
                                        <path d="M5 12h14"></path>
                                        <path d="m12 5 7 7-7 7"></path>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>
</section>