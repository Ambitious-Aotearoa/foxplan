{# 1. Fetch data from the entry #}
{% set heroImage = entry.heroImage.one() %}

{% set heroData = {
    title: entry.title ?? 'Mortgages',
    bodyText: entry.heroBodyText ?? "Whether you're buying your first home...",
    button: entry.button ?? 'Book a call',
    buttonLink: entry.buttonLink ?? '/contact-us',
    imageSrc: heroImage ? heroImage.url : null,
    backgroundColor: entry.backgroundColor.value ?? 'bg-foxplan-neutral-beige',
    textColor: 'text-black',
    titleFont: 'font-serif',
    titleSize: 'text-7xl md:text-[8.5rem]',
    bodyFont: 'font-aktiv-grotesk',
    bodySize: 'text-lg md:text-xl'
} %}

<section class="{{ heroData.backgroundColor }} w-full overflow-hidden">
    <div class="pt-16">
        {# Title Area - Supports manual line breaks from the CMS #}
        <div class="w-full pl-8 md:pl-10 mb-[32px]">
            <h1 class="{{ heroData.titleFont }} {{ heroData.titleSize }} font-normal {{ heroData.textColor }} leading-[0.85] tracking-tight">
                {# Use nl2br and raw so the <br> tags render from your CMS carriage returns #}
                {{ heroData.title | nl2br | raw }}
            </h1>
        </div>

        {# Flex Container: items-stretch keeps the text and image columns the same height #}
        <div class="flex flex-col md:flex-row w-full items-stretch">

            {# Left Content Column: 30% #}
            <div class="w-full md:w-[30%] pl-8 md:pl-10 pr-12 pb-20 flex flex-col justify-start">
                <div class="max-w-md">
                    <div class="{{ heroData.bodyFont }} {{ heroData.bodySize }} {{ heroData.textColor }} leading-relaxed mb-10">
                        {{ heroData.bodyText | raw }}
                    </div>
                    <a href="{{ heroData.buttonLink }}" class="inline-block bg-foxplan-charcoal-brown text-white px-10 py-4 text-xs font-bold tracking-widest uppercase hover:opacity-90 transition-all">
                        {{ heroData.button }}
                    </a>
                </div>
            </div>

            {# Right Image Column: 70% #}
            <div class="w-full md:w-[70%] min-h-[400px] md:min-h-[600px]">
                {% if heroData.imageSrc %}
                    <img src="{{ heroData.imageSrc }}"
                         alt="{{ heroData.title | striptags }}"
                         class="w-full h-full object-cover block">
                {% else %}
                    <img src="{{ craft.vite.asset('images/Mortgage_1.jpg') }}"
                         alt="{{ heroData.title | striptags }}"
                         class="w-full h-full object-cover block">
                {% endif %}
            </div>

        </div>
    </div>
</section>