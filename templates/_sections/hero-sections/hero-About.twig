{# templates/_sections/about-hero.twig #}

{% set img1 = entry.heroImage.one() ?? null %}
{% set img2 = entry.heroImage2.one() ?? null %}

{% set data = {
    backgroundColor: 'bg-foxplan-yellow',
    textColor: 'text-foxplan-charcoal-brown',
    title: entry.title ?? 'About FoxPlan',
    bodyText: entry.heroBodyText ?? '',
} %}

<section class="w-full py-20 {{ data.backgroundColor }} overflow-hidden"
         x-data="{ revealed: false }"
         x-init="setTimeout(() => revealed = true, 150)">

    {# --- ROW 1: Full Width Title --- #}
    <div class="w-full px-4 md:px-6 lg:px-8 mb-4 md:mb-6 lg:mb-12">
        <h1 class="font-serif tracking-tight {{ data.textColor }} break-normal"
            style="font-size: clamp(2.5rem, 6vw + 1rem, 6.5rem); line-height: 0.85; word-break: keep-all;">
            {{ data.title | raw }}
        </h1>
    </div>

    {# --- ROW 2: Arrow (50%) and Body Text (50%) --- #}
    <div class="flex flex-wrap w-full items-start mb-6 md:mb-12 lg:mb-16">

        {# THE ARROW: 50% width to match Image 1 width #}
        <div class="hidden md:flex w-1/2 pt-4 items-center justify-start pr-12 lg:pr-16">
            <div class="w-full relative flex items-center">
                <div class="h-0 border-t-2 border-dashed border-foxplan-charcoal-brown transition-all duration-[2000ms] ease-out relative"
                     :style="revealed ? 'width: 100%; opacity: 1;' : 'width: 2px; opacity: 0;'">

                    {# The Arrow Head: Chevron Style #}
                    <div class="absolute right-0 top-1/2 -translate-y-1/2 flex items-center justify-center">
                        <div class="w-4 h-4 border-t-2 border-r-2 border-foxplan-charcoal-brown rotate-45 -mr-1"></div>
                    </div>
                </div>
            </div>
        </div>

        {# THE TEXT: 50% width to match Image 2 start point #}
        <div class="w-full md:w-1/2 px-4 md:px-6 lg:px-8">
            {% if data.bodyText %}
                <div class="font-aktiv leading-relaxed {{ data.textColor }} font-medium max-w-4xl pr-8 lg:pr-24"
                     style="font-size: clamp(1.125rem, 1vw + 0.5rem, 1.5rem);">
                    {{ data.bodyText | raw }}
                </div>
            {% endif %}
        </div>
    </div>

    {# --- ROW 3: Two-Image Grid (50/50 Split) --- #}
    <div class="w-full px-4 md:px-6 lg:px-8 ">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="aspect-[16/10] overflow-hidden">
                {% if img1 %}
                    <img src="{{ img1.url }}" alt="{{ data.title }}" class="w-full h-full object-cover">
                {% endif %}
            </div>
            <div class="aspect-[16/10] overflow-hidden">
                {% if img2 %}
                    <img src="{{ img2.url }}" alt="{{ data.title }}" class="w-full h-full object-cover">
                {% endif %}
            </div>
        </div>
    </div>
</section>