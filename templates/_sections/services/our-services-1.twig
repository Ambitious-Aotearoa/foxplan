{# templates/_sections/services/our-services-1.twig #}

{% set defaults = {
    title: 'Services',
    description: '',
    backgroundColor: 'bg-white',
    items: [],
    buttonBgColor: 'bg-foxplan-charcoal-brown',
    buttonTextColor: 'text-white'
} %}

{% set data = defaults | merge(props | default({})) %}
{% set groupedItems = data.items | batch(3) %}

<section class="w-full relative z-20 py-10 md:py-16 lg:py-24 {{ data.backgroundColor }} overflow-hidden">
    <div class="grid grid-cols-1 md:grid-cols-10 w-full items-start">

        {# --- LEFT SIDE: 30% Width --- #}
        <div class="col-span-1 md:col-span-3 px-4 md:px-6 lg:px-8 md:mb-0 lg:mb-12 ">
            <div class="max-w-md">
                {#
                REFINED HEADING CLAMP:
                - Min: 2.25rem (36px) for small mobile screens.
                - Preferred: 5vw + 1rem scales more conservatively for Medium screens.
                - Max: 6.5rem (104px) maintains your full desktop size.
                #}
                <h2 class="font-serif tracking-tight text-foxplan-charcoal-brown mb-8 break-normal"
                    style="font-size: clamp(2.25rem, 5vw + 1rem, 6.5rem); line-height: 0.85; word-break: keep-all;">
                    {{ data.title | raw }}
                </h2>

                {% if data.description %}
                    <div class="font-aktiv leading-relaxed text-foxplan-charcoal-brown font-medium opacity-90"
                         style="font-size: clamp(1rem, 0.5vw + 0.8rem, 1.25rem);">
                        {{ data.description | raw }}
                    </div>
                {% endif %}
            </div>
        </div>

        {# --- RIGHT SIDE: 70% Width --- #}
        <div class="col-span-1 md:col-span-7 px-4 md:px-6 lg:px-8">
            <div class="w-full">
                {% for group in groupedItems %}
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-x-8 lg:gap-x-12 gap-y-16 mb-16 last:mb-0 items-start">

                        {% for item in group %}
                            <div class="flex flex-col h-full items-start text-left pr-4">
                                <h3 class="font-serif leading-tight text-foxplan-charcoal-brown mb-4 break-normal"
                                    style="font-size: clamp(1.5rem, 1.5vw + 1rem, 2rem); word-break: keep-all;">
                                    {{ item.title }}
                                </h3>

                                <div class="font-aktiv text-foxplan-charcoal-brown/90 leading-relaxed mb-8 w-full font-medium"
                                     style="font-size: clamp(0.9rem, 0.4vw + 0.8rem, 1.15rem);">
                                    {{ item.text | raw }}
                                </div>

                                <div class="mt-auto">
                                    {% include '_components/ui/button/button.twig' with {
                                        props: {
                                            text: 'LEARN MORE',
                                            url: item.link,
                                            style: 'primary',
                                            backgroundColor: data.buttonBgColor,
                                            textColor: data.buttonTextColor,
                                            classes: 'rounded-none text-xs'
                                        }
                                    } only %}
                                </div>
                            </div>
                        {% endfor %}

                    </div>
                {% endfor %}
            </div>
        </div>

    </div>
</section>