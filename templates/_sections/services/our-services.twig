{# templates/_sections/services/our-services.twig #}

{% set defaults = {
    title: 'Services',
    backgroundColor: 'bg-[#F4EFE1]',
    items: [],
    buttonBgColor: 'bg-[#270E15]',
    buttonTextColor: 'text-white'
} %}

{% set data = defaults | merge(props | default({})) %}
{% set groupedItems = data.items | batch(2) %}

<section class="w-full relative z-20 pt-16 pb-16 md:pt-24 md:pb-32 {{ data.backgroundColor }}">
    <div class="mx-auto px-8 lg:px-12">

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-x-0 items-start">

            {# Left Side: 30% Width (Sidebar area for the heading) #}
            <div class="lg:col-span-4 mb-12 lg:mb-0">
                <h2 class="font-serif text-5xl lg:text-[4.5rem] font-light leading-[0.8] text-[#270E15] tracking-tight max-w-xs">
                    {{ data.title | raw }}
                </h2>
            </div>

            {# Right Side: 70% Width (Content area) #}
            <div class="lg:col-span-8">
                {% for group in groupedItems %}
                    {# Gap-x matches the gutter between the individual service columns #}
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-16 gap-y-16 mb-16 last:mb-0">

                        {% for item in group %}
                            <div class="flex flex-col h-full">
                                {% if item %}
                                    <h3 class="font-serif text-3xl md:text-[2.6rem] font-light leading-tight text-[#270E15] mb-4">
                                        {{ item.title }}
                                    </h3>

                                    <p class="font-aktiv text-[15px] text-[#270E15]/80 leading-relaxed mb-8 max-w-[340px]">
                                        {{ item.text ?? item.description ?? '' }}
                                    </p>

                                    <div class="mt-auto">
                                        {# Button style matching your dark rectangular "LEARN MORE" style #}
                                        {% include '_components/ui/button/button.twig' with {
                                            props: {
                                                text: 'Learn more',
                                                url: item.link ?? '#',
                                                style: 'primary',
                                                backgroundColor: data.buttonBgColor,
                                                textColor: data.buttonTextColor,
                                                classes: 'px-6 py-3 text-[11px] tracking-widest uppercase inline-flex items-center gap-2'
                                            }
                                        } only %}
                                    </div>
                                {% endif %}
                            </div>
                        {% endfor %}

                    </div>
                {% endfor %}
            </div>

        </div>
    </div>
</section>