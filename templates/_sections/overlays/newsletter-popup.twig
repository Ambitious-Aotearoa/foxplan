<div
        x-data="{ open: true }"
        x-show="open"
        x-cloak
        {# Strict scroll lock for mobile and desktop #}
        x-init="$watch('open', value => {
        if (value) {
            document.documentElement.style.overflow = 'hidden';
            document.body.style.overflow = 'hidden';
        } else {
            document.documentElement.style.overflow = '';
            document.body.style.overflow = '';
        }
    });
    if (open) {
        document.documentElement.style.overflow = 'hidden';
        document.body.style.overflow = 'hidden';
    }"
        {# Added px-4 here to ensure the 16px gap on left/right for mobile #}
        class="fixed inset-0 z-[9999] flex items-center justify-center px-4"
        role="dialog"
        aria-modal="true"
>
    {# Background Overlay #}
    <div
            x-show="open"
            x-transition:enter="ease-out duration-300"
            x-transition:enter-start="opacity-0"
            x-transition:enter-end="opacity-100"
            class="fixed inset-0 bg-foxplan-charcoal-brown/60 backdrop-blur-sm"
    ></div>

    {# Modal Panel #}
    <div
            x-show="open"
            x-transition:enter="ease-out duration-300"
            x-transition:enter-start="opacity-0 scale-95"
            x-transition:enter-end="opacity-100 scale-100"
            {# Set max-width and ensured background matches your neutral-beige #}
            class="relative bg-foxplan-neutral-beige shadow-2xl w-full max-w-xl p-8 md:p-12 z-10"
    >
        {# Close Button - Positioned per screenshot #}
        <button
                type="button"
                class="absolute top-6 right-6 text-foxplan-charcoal-brown hover:opacity-50 transition-opacity"
                @click="open = false"
        >
            <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>

        <div class="text-center md:text-left">
            <h3 class="font-serif text-4xl md:text-5xl text-foxplan-charcoal-brown mb-6 leading-tight">
                Join our <br>mailing list
            </h3>

            <p class="text-base md:text-lg text-gray-700 leading-relaxed mb-10">
                Financial updates, tips and advice from our newsletter to your inbox on a regular basis.
            </p>

            <form @submit.prevent="open = false" class="w-full">
                <div class="flex items-end border-b border-foxplan-charcoal-brown transition-colors mb-4 pb-2">
                    <input
                            type="email"
                            placeholder="Enter your email address"
                            required
                            class="w-full bg-transparent text-foxplan-charcoal-brown placeholder-foxplan-charcoal-brown/40 focus:outline-none text-lg md:text-xl"
                    >
                    <button
                            type="submit"
                            class="text-xs md:text-sm font-bold text-foxplan-charcoal-brown uppercase tracking-widest pl-4 hover:opacity-60 transition-opacity"
                    >
                        Submit
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>