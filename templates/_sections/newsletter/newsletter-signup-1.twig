{# _sections/newsletter/newsletter-signup-1.twig #}

{% set ctaData = {
    topLabel: 'SUBSCRIBE',
    heading: 'For regular financial insights, <br> subscribe to our newsletter.',
    placeholder: 'Enter your email address',
    submitText: 'SUBMIT'
} %}

<section class="w-full bg-foxplan-charcoal-brown border-l-[24px] border-foxplan-charcoal-brown">
    <div id="newsletter-container" class="bg-foxplan-neutral-beige py-12 md:py-16 px-[40px] md:px-[60px] transition-all duration-500">

        <div class="grid grid-cols-1 md:grid-cols-10 gap-x-0">
            <div class="md:col-span-9 lg:col-span-8">
                <span class="font-montreal text-[10px] uppercase tracking-[0.2em] text-foxplan-charcoal-brown mb-6 block">{{ ctaData.topLabel }}</span>

                <div id="newsletter-content">
                    <h2 class="font-serif text-[2.5rem] md:text-[3.5rem] font-light leading-[1.1] text-foxplan-charcoal-brown mb-8">
                        {{ ctaData.heading | raw }}
                    </h2>

                    {#
                    We use 'onsubmit' to prevent the default refresh behavior,
                    thus banishing the 'Resubmission' message forever
                    #}
                    <form id="newsletter-form" onsubmit="handleNewsletterSubmit(event)" class="max-w-2xl">
                        <div class="flex items-center justify-between border-b border-foxplan-charcoal-brown/30 pb-1">
                            <input
                                    type="email"
                                    name="email"
                                    placeholder="{{ ctaData.placeholder }}"
                                    class="w-full text-base font-montreal py-2 bg-transparent focus:outline-none placeholder-foxplan-charcoal-brown/40 text-foxplan-charcoal-brown"
                                    required
                            >
                            <button type="submit" class="font-montreal text-[10px] uppercase tracking-[0.2em] text-foxplan-charcoal-brown hover:opacity-60 transition-opacity ml-4 flex-shrink-0">
                                {{ ctaData.submitText }}
                            </button>
                        </div>
                    </form>
                </div>

                {# A polite Success Message to replace the form #}
                <div id="newsletter-success" class="hidden">
                    <h2 class="font-serif text-[2.5rem] md:text-[3.5rem] font-light leading-[1.1] text-foxplan-charcoal-brown">
                        Thank you for subscribing.
                    </h2>
                </div>
            </div>
        </div>
    </div>
</section>

